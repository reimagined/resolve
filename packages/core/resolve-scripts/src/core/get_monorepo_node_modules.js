import fs from 'fs'
import path from 'path'

const getMonorepoNodeModules = () => {
  let isMonoRepo = false
  try {
    const resolveJson = JSON.parse(
      fs.readFileSync(path.resolve(__dirname, '../../../../../package.json'))
    )
    if (resolveJson.name === 'resolve') {
      isMonoRepo = true
    }
  } catch (e) {}

  if (isMonoRepo) {
    return [path.resolve(__dirname, '../../../../../node_modules')]
  } else {
    return []
  }
}

export default getMonorepoNodeModules
