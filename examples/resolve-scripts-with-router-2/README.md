# Example: React-router-2
**React-router-2** is a simple single page application (SPA) which is based on Create ReSolve App. The app uses the **react-router (v2)** package to implement routing for server and client sides. The main goal of this example is to show how to add a router to a reSolve application and guarantee correct server-side rendering.

To learn more on React Router v2’s philosophy and technical details, refer to: [https://github.com/ReactTraining/react-router/blob/v2.8.1/docs/Introduction.md](https://github.com/ReactTraining/react-router/blob/v2.8.1/docs/Introduction.md)

**Important note**: when configuring a router instance on the server side, make sure that it is wrapped in a component in the following way:
```
rootComponent: ({ url }) => {
    let jsx = null;
    match({ routes: createRoutes(rootRoute), location: url }, (error, redirect, renderProps) => {
        if (!error && !redirect && renderProps) {
            jsx = <RouterContext {...renderProps} />;
        } else {
            jsx = <div>Error {error}</div>;
        }
    });
    return jsx;
};
```

The current URL generated by server-side rendering is available in `props.url`. Due to React Router v2’s limitations, it is strictly forbidden to wrap `rootRoute` as a component. So make sure that `rootRoute` is a component instance (JSX) and not a component function itself. The `match` result should be a component instance as well.
If required, you can manually handle redirects by using `Helmet` and rendering redirect headers inside it. Find more information here: [https://github.com/nfl/react-helmet](https://github.com/nfl/react-helmet)

## Quick Start

To start this application, run the following commands:
```
git clone https://github.com/reimagined/resolve
cd resolve
npm install && npm run bootstrap
cd examples/resolve-scripts-with-router-2
npm start

```
Open [http://localhost:3000](http://localhost:3000) to view the application in a browser.

## Folder Structure

| ​Path ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​​ ​ ​ ​ ​ ​​ ​ ​ ​ ​| Description                                                                              |
| ---------------------------------| ---------------------------------------------------------------------------------------- |
| `resolve-scripts-with-router-2/` | The root directory.                                               |
| `​ ​ ​index.js                    ` | An *instance* of the `<Route>` container with view component definitions for different routes.  |
| `​ ​ package.json                ` | The current npm package description.                                                       |
| `​ ​ README.md                   ` | This readme file.                                                                         |
| `​ ​ resolve.client.config.js    ` | The client-side configuration file including `react-router`/`<Router>` as a router.             |
| `​ ​ resolve.server.config.js    ` | The server-side configuration file including `react-router`/`<RouterContext>` as a router.      |

## Supported Language Features and Polyfills

In addition to [ES7](http://2ality.com/2016/01/ecmascript-2016.html) syntax features, this project also supports:

* [Async/await](https://github.com/tc39/ecmascript-asyncawait) (ES2017).
* [Object Rest/Spread Properties](https://github.com/sebmarkbage/ecmascript-rest-spread) (stage 3 proposal).
* [JSX](https://facebook.github.io/react/docs/introducing-jsx.html) syntax.
