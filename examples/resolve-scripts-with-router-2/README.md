# Example: React-router-2
**React-router-2** is a simple single page application (SPA) based on the Create ReSolve App. The application uses the **react-router (v2)** package to implement routing for server and client sides. This example shows how to add a router to a reSolve application and guarantee correct server-side rendering.

Refer to [https://github.com/ReactTraining/react-router/blob/v2.8.1/docs/Introduction.md](https://github.com/ReactTraining/react-router/blob/v2.8.1/docs/Introduction.md) to learn more about React Router v2.

**Important note**: When configuring a router instance on the server side, ensure that it is wrapped in a component in the following way:
```
rootComponent: ({ url }) => {
    let jsx = null;
    match({ routes: createRoutes(rootRoute), location: url }, (error, redirect, renderProps) => {
        if (!error && !redirect && renderProps) {
            jsx = <RouterContext {...renderProps} />;
        } else {
            jsx = <div>Error {error}</div>;
        }
    });
    return jsx;
};
```

The current URL generated by server-side rendering is available at `props.url`. It is not possible to wrap `rootRoute` as a component due to React Router v2’s limitations. So, ensure that `rootRoute` is a component instance (JSX) and not a component function. The `match` result should also be a component instance.
You can manually handle redirects using `Helmet`. See [https://github.com/nfl/react-helmet](https://github.com/nfl/react-helmet) for more information.

## Quick Start

Run the following commands to start this application:
```
git clone https://github.com/reimagined/resolve
cd resolve
npm install
cd examples/resolve-scripts-with-router-2
npm install
cd ../..
npm run bootstrap
cd examples/resolve-scripts-with-router-2
npm start
```

Open [http://localhost:3000](http://localhost:3000) to view the application in a browser.

## Folder Structure

| ​Path ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​​ ​ ​ ​ ​ ​​ ​ ​ ​ ​| Description                                                                              |
| ---------------------------------| ---------------------------------------------------------------------------------------- |
| `resolve-scripts-with-router-2/` | The root directory.                                               |
| `​ ​ ​index.js                    ` | A `<Route>` container *instance* with view component definitions for different routes.  |
| `​ ​ package.json                ` | The current npm package description.                                                       |
| `​ ​ README.md                   ` | This readme file.                                                                         |
| `​ ​ resolve.client.config.js    ` | The client-side configuration file including `react-router`/`<Router>` as a router.             |
| `​ ​ resolve.server.config.js    ` | The server-side configuration file including `react-router`/`<RouterContext>` as a router.      |

## Supported Language Features and Polyfills

In addition to [ES7](http://2ality.com/2016/01/ecmascript-2016.html) syntax features, this project also supports:

* [Async/await](https://github.com/tc39/ecmascript-asyncawait) (ES2017).
* [Object Rest/Spread Properties](https://github.com/sebmarkbage/ecmascript-rest-spread) (stage 3 proposal).
* [JSX](https://facebook.github.io/react/docs/introducing-jsx.html) syntax.
