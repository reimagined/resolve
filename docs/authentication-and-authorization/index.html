<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Authentication and Authorization · reSolve</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;setting-up-authentication&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#setting-up-authentication&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting up Authentication&lt;/h2&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Authentication and Authorization · reSolve"/><meta property="og:type" content="website"/><meta property="og:url" content="https://reimagined.github.io/resolve/index.html"/><meta property="og:description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;setting-up-authentication&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#setting-up-authentication&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting up Authentication&lt;/h2&gt;
"/><meta property="og:image" content="https://reimagined.github.io/resolve/img/reSolve400x400-fill.png"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/resolve/undefined"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/agate.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-118635726-3', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/resolve/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/resolve/"><img class="logo" src="/resolve/img/resolve.svg" alt="reSolve"/><h2 class="headerTitleWithLogo">reSolve</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://medium.com/resolvejs" target="_self">Blog</a></li><li class="siteNavGroupActive"><a href="/resolve/docs/" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/resolve/docs/tutorial" target="_self">Tutorial</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/reimagined/resolve" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Docs Index</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Docs Index</h3><ul><li class="navListItem"><a class="navItem" href="/resolve/docs/">reSolve Documentation</a></li><li class="navListItem"><a class="navItem" href="/resolve/docs/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/resolve/docs/tutorial">Step-by-Step Tutorial</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Basics</h4><ul><li class="navListItem"><a class="navItem" href="/resolve/docs/app-structure">reSolve App Structure</a></li><li class="navListItem"><a class="navItem" href="/resolve/docs/write-side">Write Side</a></li><li class="navListItem"><a class="navItem" href="/resolve/docs/read-side">Read Side</a></li><li class="navListItem"><a class="navItem" href="/resolve/docs/frontend">Frontend</a></li><li class="navListItem"><a class="navItem" href="/resolve/docs/curl">Standard HTTP API</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/resolve/docs/advanced-techniques">Advanced Techniques</a></li><li class="navListItem"><a class="navItem" href="/resolve/docs/api-handlers">API Handlers</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/resolve/docs/authentication-and-authorization">Authentication and Authorization</a></li><li class="navListItem"><a class="navItem" href="/resolve/docs/preparing-to-production">Preparing to Production</a></li><li class="navListItem"><a class="navItem" href="/resolve/docs/api-reference">API Reference</a></li><li class="navListItem"><a class="navItem" href="/resolve/docs/contributing">Contributing</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">FAQ</h3><ul><li class="navListItem"><a class="navItem" href="/resolve/docs/faq">FAQ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Troubleshooting</h3><ul><li class="navListItem"><a class="navItem" href="/resolve/docs/troubleshooting">Troubleshooting</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Authentication and Authorization</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="setting-up-authentication"></a><a href="#setting-up-authentication" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting up Authentication</h2>
<p>You can use reSolve's built-in <strong><a href="/resolve/docs/advanced-techniques#modules">module</a></strong> (<strong>resolve-module-auth</strong>) to enable authentication in your application. The authentication module uses the <a href="http://www.passportjs.org/">Passport.js</a> library.</p>
<p>Initialize the authentication module in the application's <strong>run.js</strong> script:</p>
<!-- prettier-ignore-start -->
<pre><code class="hljs css language-js">  <span class="hljs-keyword">const</span> moduleAuth = resolveModuleAuth([
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'local-strategy'</span>,
      <span class="hljs-attr">createStrategy</span>: <span class="hljs-string">'auth/create_strategy.js'</span>,
      <span class="hljs-attr">logoutRoute</span>: {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'logout'</span>,
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>
      },
      <span class="hljs-attr">routes</span>: [
        {
          <span class="hljs-attr">path</span>: <span class="hljs-string">'register'</span>,
          <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
          <span class="hljs-attr">callback</span>: <span class="hljs-string">'auth/route_register_callback.js'</span>
        },
        {
          <span class="hljs-attr">path</span>: <span class="hljs-string">'login'</span>,
          <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
          <span class="hljs-attr">callback</span>: <span class="hljs-string">'auth/route_login_callback.js'</span>
        }
      ]
    }
  ])

  <span class="hljs-keyword">const</span> baseConfig = merge(
    defaultResolveConfig,
    appConfig,
    moduleComments,
    moduleAuth
  )
</code></pre>
<!-- prettier-ignore-end -->
<p>These setting specify the path to a strategy constructor and HTTP API handlers to handle authentication-related requests (register, login and logout in this example). You can implement a strategy constructor as shown below:</p>
<!-- prettier-ignore-start -->
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { Strategy <span class="hljs-keyword">as</span> StrategyFactory } <span class="hljs-keyword">from</span> <span class="hljs-string">'passport-local'</span>

<span class="hljs-keyword">const</span> createStrategy = <span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span> ({
  <span class="hljs-attr">factory</span>: StrategyFactory,
  <span class="hljs-attr">options</span>: {
    <span class="hljs-attr">failureRedirect</span>: <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span>
      <span class="hljs-string">`/error?text=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(error.message)}</span>`</span>,
    <span class="hljs-attr">errorRedirect</span>: <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-string">`/error?text=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(error.message)}</span>`</span>,
    <span class="hljs-attr">usernameField</span>: <span class="hljs-string">'username'</span>,
    <span class="hljs-attr">passwordField</span>: <span class="hljs-string">'username'</span>,
    <span class="hljs-attr">successRedirect</span>: <span class="hljs-literal">null</span>,
    ...options
  }
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> createStrategy
</code></pre>
<!-- prettier-ignore-end -->
<p>This code sample implements a strategy constructor for a <strong>local</strong> authentication strategy. The <strong>createStrategy</strong> constructor takes a set of options defined at runtime and returns modified options.</p>
<p>See the <strong>Hacker News</strong> example project for the full code.</p>
<h2><a class="anchor" aria-hidden="true" id="using-3rd-party-auth-services"></a><a href="#using-3rd-party-auth-services" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using 3rd-Party Auth Services</h2>
<p>You can implement authentication via 3rd-party services similarly to how you implement local authentication. To implement authentication for a particular service, use corresponding Passport modules, for example, <strong>passport-google</strong> or <strong>passport-facebook</strong>.</p>
<h2><a class="anchor" aria-hidden="true" id="storing-a-user-registry-in-the-application"></a><a href="#storing-a-user-registry-in-the-application" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Storing a User Registry in the Application</h2>
<p>You can use the standard event sourcing approach to implement a user registry. This is useful in the following cases:</p>
<ul>
<li>You prefer to store a user registry in your application without third-party services.</li>
<li>You use a third-party authentication service but need to store additional information that is not provided by this service (for example, roles or permissions).</li>
</ul>
<p>Use the following steps to implement a user registry:</p>
<ol>
<li>Add a User aggregate to accept commands and generate events related to managing a user registry</li>
<li>Create a read model and use it to look up a user's information during logging in and add this information to a JWT (JSON Web Token)</li>
</ol>
<p>For example, you can write the following if you want to grant permissions to a user:</p>
<h4><a class="anchor" aria-hidden="true" id="write-side-the-user-aggregate"></a><a href="#write-side-the-user-aggregate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Write side - The &quot;user&quot; aggregate</h4>
<pre><code class="hljs css language-js"><span class="hljs-comment">// user.commands.js</span>
...
grantPermission: <span class="hljs-function">(<span class="hljs-params">state, command</span>) =&gt;</span> {
   <span class="hljs-keyword">const</span> {<span class="hljs-attr">payload</span>: {<span class="hljs-attr">permission</span>: permissionToGrant }} = command;

   <span class="hljs-keyword">if</span> (state.permissions.includes(permissionToGrant)) {
       <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"permission aleady granted"</span>)
   }
   <span class="hljs-keyword">return</span> {
       <span class="hljs-attr">type</span>: PERMISSION_GRANTED,
       <span class="hljs-attr">payload</span>: {
           <span class="hljs-attr">permission</span>: permissionToGrant
       }
   }
}
...
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">// user.projection.js</span>
...
[PERMISSION_GRANTED]: <span class="hljs-function">(<span class="hljs-params">state, {payload: {permission}}</span>) =&gt;</span> ({
    ...state,
    <span class="hljs-attr">permissions</span>: [...state.permissions, permission]
})
...
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="read-side-the-users-read-model"></a><a href="#read-side-the-users-read-model" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Read side - The &quot;users&quot; read model</h4>
<pre><code class="hljs css language-js"><span class="hljs-comment">// users.projection.js</span>
...
[PERMISSION_GRANTED]: <span class="hljs-keyword">async</span> (store, {aggregateId, <span class="hljs-attr">payload</span>:{permission}}) =&gt; {
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> store.findOne(<span class="hljs-string">'Users'</span>, { <span class="hljs-attr">id</span>: aggregateId })
    <span class="hljs-keyword">if</span> (user) {
        <span class="hljs-keyword">await</span> store.update(
          <span class="hljs-string">'Users'</span>,
          { <span class="hljs-attr">id</span>: aggregateId },
          { <span class="hljs-attr">$set</span>: {<span class="hljs-attr">permissions</span>: [...user.permissions, permission]}}
        )
    }
}
...
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">// users.resolvers.js</span>
...
userById: <span class="hljs-keyword">async</span>(store, {id}) =&gt; store.findOne(<span class="hljs-string">'Users'</span>, {id})
...
</code></pre>
<p>You can now query a user's read model and add the obtained user information to the JWT payload when they log in:</p>
<pre><code class="hljs css language-js">...
const user = <span class="hljs-keyword">await</span> resolve.executeQuery({
  <span class="hljs-attr">modelName</span>: <span class="hljs-string">'Users'</span>,
  <span class="hljs-attr">resolverName</span>: <span class="hljs-string">'userById'</span>,
  <span class="hljs-attr">resolverArgs</span>: { id }
})
<span class="hljs-keyword">if</span> (user)
  <span class="hljs-keyword">return</span> jwt.sign(user, jwtSecret)
...
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="using-jwt-for-command-and-query-authorization"></a><a href="#using-jwt-for-command-and-query-authorization" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using JWT for Command and Query Authorization</h2>
<p>Every command and query handler accepts a JSON Web Token (JWT) obtained during the authentication process. This JWT contains an object that the authentication function returned, or an empty object <code>{}</code> if the current user is not logged in.</p>
<p>A JWT is signed with a secret to prevent forgery. Use the same secret to decode and verify the token.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { <span class="hljs-attr">id</span>: userId } = jwt.verify(jwtToken, jwtSecret)
</code></pre>
<p>You can store any information in a JWT. For instance, you can look up a user's permissions and add them to the token
during authentication. Then, you can check the user's permissions during a command or query execution as shown below:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { <span class="hljs-attr">id</span>: userId, permissions } = jwt.verify(jwtToken, jwtSecret);

<span class="hljs-keyword">if</span> (permissions &amp;&amp; permissions.includes(<span class="hljs-string">"admin"</span>)) {
...
} <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Access denied"</span>);
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/resolve/docs/api-handlers"><span class="arrow-prev">← </span><span>API Handlers</span></a><a class="docs-next button" href="/resolve/docs/preparing-to-production"><span>Preparing to Production</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#setting-up-authentication">Setting up Authentication</a></li><li><a href="#using-3rd-party-auth-services">Using 3rd-Party Auth Services</a></li><li><a href="#storing-a-user-registry-in-the-application">Storing a User Registry in the Application</a></li><li><a href="#using-jwt-for-command-and-query-authorization">Using JWT for Command and Query Authorization</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/resolve/" class="nav-home"><img src="/resolve/img/resolve.svg" alt="reSolve" width="66" height="58"/></a><div><h5>Docs</h5><a href="/resolve/docs/">Documentation Index</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/resolvejs" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/resolvejs" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.facebook.com/resolvejs/" target="_blank" rel="noreferrer noopener">Facebook</a></div><div><h5>More</h5><a href="https://github.com/reimagined/resolve">GitHub</a><a class="github-button" href="https://github.com/reimagined/resolve" data-icon="octicon-star" data-count-href="/reimagined/resolve/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 Developer Express, Inc</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2acd75b7a94d568aa418a4f02bd811cc',
                indexName: 'reimagined_resolve',
                inputSelector: '#search_input_react'
              });
            </script></body></html>